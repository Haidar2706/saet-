<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ê—É–∫—Ü–∏–æ–Ω</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="loginPage">
  <h2>–í—Ö–æ–¥</h2>
  <div class="error" id="loginError"></div>
  <input type="text" id="loginUsername" placeholder="–õ–æ–≥–∏–Ω" />
  <input type="password" id="loginPassword" placeholder="–ü–∞—Ä–æ–ª—å" />
  <button id="loginBtn">–í–æ–π—Ç–∏</button>
  <p>–¢–µ—Å—Ç: admin/admin –∏–ª–∏ user/user</p>
</div>

<div id="mainPage" class="hidden">
  <button id="logoutBtn">–í—ã–π—Ç–∏</button>
  <p>–ü—Ä–∏–≤–µ—Ç, <span id="currentUser"></span>!</p>
  <input type="text" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é..." oninput="renderLots()" />
  <div id="statsPanel" style="margin: 15px 0; font-weight: bold;"></div>

  <div class="table-container">
    <table id="lotsTable" class="hidden">
      <thead>
        <tr>
          <th>‚Ññ</th>
          <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
          <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
          <th>–†–∞–∑–º–µ—Ä</th>
          <th>–°—Ç–∞—Ä—Ç. —Ü–µ–Ω–∞</th>
          <th>–¢–µ–∫—É—â–∞—è —Å—Ç–∞–≤–∫–∞</th>
          <th>–°—Ç–∞—Ç—É—Å</th>
          <th>–¢–∞–π–º–µ—Ä</th>
          <th>–°—Ç–∞–≤–∫–∞</th>
          <th>–ö–Ω–æ–ø–∫–∞</th>
        </tr>
      </thead>
      <tbody id="lotsList"></tbody>
    </table>
  </div>

  <div id="adminPanel" class="hidden">
  <div id="winnersPanel" style="margin-top: 20px;"></div>
  <div id="winnersPanel" class="hidden"></div>

    <hr/>
    <h3>–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h3>
    <form id="addUserForm">
     <input type="text" id="newUsername" placeholder="–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" required />
     <input type="password" id="newPassword" placeholder="–ü–∞—Ä–æ–ª—å" required />
    <select id="newUserRole">
    <option value="user">–û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</option>
    <option value="admin">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</option>
  </select>
  <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</button>
   </form>

    <h3>–î–æ–±–∞–≤–∏—Ç—å –ª–æ—Ç</h3>
    <hr/>
    <h3>JSON –¥–∞–Ω–Ω—ã–µ</h3>
    <button onclick="saveToLocalStorage()">üíΩ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ LocalStorage</button>
    <button onclick="loadFromLocalStorage()">üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑ LocalStorage</button><br/><br/>
    <button onclick="downloadJSON()">‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å JSON</button><br/><br/>
    <label>
    <label>
      üìÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å Excel (.xlsx):
      <input type="file" accept=".xlsx" onchange="handleExcelUpload(event)">
    </label>
      
      üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å JSON:
      <input type="file" accept="application/json" onchange="uploadJSONFile(event)">
    </label>

    <form id="addLotForm">
      <input type="text" id="newLotTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ" required /><br/>
      <input type="text" id="newLotCategory" placeholder="–ö–∞—Ç–µ–≥–æ—Ä–∏—è" required /><br/>
      <input type="number" id="newLotPrice" placeholder="–¶–µ–Ω–∞" required /><br/>
      <label for="newLotSize">–†–∞–∑–º–µ—Ä —Ç–æ–≤–∞—Ä–∞</label>
      <input type="text" id="newLotSize" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, 10 —Ç–æ–Ω–Ω" required /><br/>
      <label for="newLotEndTime">‚è∞ –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
      <input type="datetime-local" id="newLotEndTime" required /><br/>
      <input type="text" placeholder="–í–∞—à –æ–±—ä—ë–º" id="userSize{lot.id}" style="width: 90px;" />

      <select id="newLotStatus">
        <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–π</option>
        <option value="sold">–ü—Ä–æ–¥–∞–Ω</option>
      </select><br/>
      <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
    </form>
  </div>
</div>

<script src="auction.js"></script>
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

</body>
</html>
